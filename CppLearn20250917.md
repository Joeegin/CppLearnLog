# 2025年9月17日

## string的使用与理解

### 基本概念理解：

1. 理解std::string是C++标准库中用于表示和操作字符串的类。
2. 了解std::string与C风格字符串（以\0结尾的字符数组）的区别和联系。
3. 掌握std::string的基本成员函数，如length(), size(), empty(), c_str(), substr(), append(), insert(), erase(), find(), replace()等。

### 内存管理：

1. 理解std::string如何自动管理内存，包括分配、复制、赋值、移动和释放。
2. 了解std::string的短字符串优化（SSO, Short String Optimization）技术。

### 字符串操作：

1. 能够使用std::string的成员函数进行字符串的拼接、查找、替换、截取等操作。
2. 能够处理字符串的边界情况，如空字符串、仅包含单个字符的字符串等。

### 与其他字符串类型的交互：

1. 能够将std::string转换为C风格字符串，以及将C风格字符串转换为std::string。

2. 了解在需要时，如何在std::string和char*之间进行高效转换。

1. 深入理解string的SSO技术，什么场景下可以触发SSO？

   当string对象保存的字符串比较短时（看具体编译器，gcc和clang是22字符以内，msvc是15字符）

2. 如果string的size()是100，但是中间却有\0字符出现，打印时会发生什么？这时如果使用str.c_str()构造另一个string会发生什么？

   会完整地打印出所有字符，不会提前终止。

   1）string类重载过`<<`运算符，不依赖`\0`来确定字符串结束的位置；

   2）明确知道字符串的长度（通过size或是length）；

   3）会从起始位置准确输出size个字符。

   使用`c_str()`时会在遇到的第一个`\0`字符处截断成新字符串。（`str.c_str()` 函数返回一个指向C风格字符串（即以空字符 `\0` 结尾的字符数组）的常量指针。）

3. string的实现原理是什么，尝试自己实现一个简单的string？

   核心原理是动态内存管理以及短字符串优化（通过长字符串结构体和短字符串的联合体实现）。

   基本设计思想包含：

   1）动态内存管理；2）容量管理（size和capacity）；3）深拷贝；4）自动内存管理（析构时释放内存）

4. string内部使用的是堆内存还是栈内存？

   看字符串的长度有没有触发SSO，触发的情况下，字符串长度较短，使用栈内存；反之，字符串长度比较长，需要使用堆内存。

## map、unordered_map

### 基本概念理解

1. 理解map是基于红黑树实现的关联容器，支持唯一键的映射，并按键排序。
2. 理解unordered_map是基于哈希表实现的关联容器，支持唯一键的映射，但不保证顺序。
3. 了解map和unordered_map提供的接口，如insert(), erase(), find(), count(), size(), empty(), operator[]等。

### 插入与删除操作

1. 掌握如何使用insert()方法向map或unordered_map中插入键值对。
2. 掌握如何使用erase()方法从map或unordered_map中删除元素。
3. 了解operator[]在map和unordered_map中的用法，以及它们在处理不存在的键时的表示。


### 查找与访问
1. 理解如何使用find()方法查找map或unordered_map中的元素。
2. 掌握如何使用at()方法通过键访问元素（注意at()在键不存在时会抛出异常）。
3. 了解如何直接使用operator[]访问元素，但注意其潜在的插入行为。

### 遍历
1. 掌握如何使用迭代器遍历map或b. unordered_map中的所有元素。
2. 了解如何使用范围for循环（C++11及以后）遍历map或unordered_map。